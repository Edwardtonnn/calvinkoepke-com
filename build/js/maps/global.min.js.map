{"version":3,"sources":["global.js"],"names":["stickify","el","document","querySelector","elTop","getOffset","top","elWidth","getBoundingClientRect","width","window","addEventListener","scrollY","classList","contains","add","setAttribute","remove","triggerScroll","left","scrollX","event","MouseEvent","view","bubbles","cancelable","dispatchEvent","code","prismScript","createElement","src","type","body","appendChild"],"mappings":"CAMA,WA2BC,QAASA,GAASC,GAEjB,GAAIA,GAAWC,SAASC,cAAcF,GACrCG,EAAWC,EAAUJ,GAAIK,IACzBC,EAAWN,EAAGO,wBAAwBC,KAEvCC,QAAOC,iBAAiB,SAAU,WAE5BD,OAAOE,QAAUR,IAAWH,EAAGY,UAAUC,SAAS,cACtDb,EAAGY,UAAUE,IAAI,YACjBd,EAAGe,aAAa,QAAS,UAAYT,EAAU,gBAG3CG,OAAOE,QAAUR,GAASH,EAAGY,UAAUC,SAAS,cACpDb,EAAGY,UAAUI,OAAO,YACpBhB,EAAGe,aAAa,QAAS,OAM3Bd,SAASS,iBAAiB,mBAAoBO,KAU/C,QAASb,GAAUJ,GAElB,MADAA,GAAKA,EAAGO,yBAEPW,KAAMlB,EAAGkB,KAAOT,OAAOU,QACvBd,IAAKL,EAAGK,IAAMI,OAAOE,SASvB,QAASM,KACR,GAAIG,GAAQ,GAAIC,YAAW,UAC1BC,KAAQb,OACRc,SAAW,EACXC,YAAc,GAEff,QAAOgB,cAAcL,GA3EtBnB,SAASS,iBAAiB,mBAAoB,WAG7C,GAAIgB,GAAOzB,SAASC,cAAc,YAG9ByB,EAAe1B,SAAS2B,cAAc,SAC1CD,GAAYE,IAAO,4DACnBF,EAAYG,KAAO,kBAGN,OAATJ,GACHjB,OAAOC,iBAAiB,OAAQ,WAAaT,SAAS8B,KAAKC,YAAYL,KAGxE5B,EAAS,gBACTA,EAAS","file":"../global.min.js","sourcesContent":["/**\n * JavaScript functions for the theme (no jQuery).\n *\n * @since 2.0.0\n *\n */\n(function() {\n\n\tdocument.addEventListener('DOMContentLoaded', function() {\n\n\t\t// Check for content.\n\t\tvar code = document.querySelector('pre,code');\n\n\t\t// Prism script.\n\t\tvar prismScript  = document.createElement('script');\n\t\tprismScript.src  = '/wp-content/themes/calvinkoepke-com/build/js/prism.min.js';\n\t\tprismScript.type = 'text/javascript';\n\n\t\t// Load the script if there is any pre/code tags.\n\t\tif (code !== null) {\n\t\t\twindow.addEventListener('load', function() { document.body.appendChild(prismScript); });\n\t\t}\n\n\t\tstickify('.nav-primary');\n\t\tstickify('.sidebar .enews-widget');\n\n\t});\n\n\t/**\n\t * Helper function to make an element sticky on scroll.\n\t * @param  string el Selector to be used (uses querySelector).\n\t * @since 2.0.0\n\t */\n\tfunction stickify(el) {\n\n\t\tvar el       = document.querySelector(el),\n\t\t\telTop    = getOffset(el).top,\n\t\t\telWidth  = el.getBoundingClientRect().width;\n\n\t\twindow.addEventListener('scroll', function() {\n\n\t\t\tif ( window.scrollY > elTop && ! el.classList.contains('stickify') ) {\n\t\t\t\tel.classList.add('stickify');\n\t\t\t\tel.setAttribute('style', 'width: ' + elWidth + 'px; top: 0;');\n\t\t\t}\n\n\t\t\tif ( window.scrollY < elTop && el.classList.contains('stickify') ) {\n\t\t\t\tel.classList.remove('stickify');\n\t\t\t\tel.setAttribute('style', '');\n\t\t\t}\n\n\t\t});\n\n\t\t// Trigger scroll event on load.\n\t\tdocument.addEventListener('DOMContentLoaded', triggerScroll());\n\n\t}\n\n\t/**\n\t * Helper function to get the offset.\n\t * @param  node   el DOM Node to get the offset for.\n\t * @return object    Object containing offset information.\n\t * @since  2.0.0\n\t */\n\tfunction getOffset(el) {\n\t\tel = el.getBoundingClientRect();\n\t\treturn {\n\t\t\tleft: el.left + window.scrollX,\n\t\t\ttop: el.top + window.scrollY\n\t\t}\n\t}\n\n\t/**\n\t * Manually trigger a scroll event.\n\t * @return undefined\n\t * @since 2.0.0\n\t */\n\tfunction triggerScroll() {\n\t\tvar event = new MouseEvent('scroll', {\n\t\t\t'view': window,\n\t\t\t'bubbles': true,\n\t\t\t'cancelable': false\n\t\t});\n\t\twindow.dispatchEvent(event);\n\t}\n\n})();\n"]}